\dt
CREATE TABLE Ciudades(cid INT, nombre VARCHAR(255), PRIMARY KEY(cid)) ;
\dt
\COPY ciudades from './Entrega2/datos/Ciudades.csv' DELIMETER ',' CSV HEADER
\COPY ciudades from './Entrega2/datos/Ciudades.csv' DELIMITER ',' CSV HEADER
\COPY ciudades from './Entrega2/datos/Ciudades.csv' DELIMETER ',' CSV HEADER ENCODING 'latin1'
\COPY ciudades from './Entrega2/datos/Ciudades.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
SELECT * FROM ciudades
\dt
\q
\dt
\d
\d ciudades
SELECT * FROM ciudades ;
CREATE TABLE usuarios(uid INT, username VARCHAR(255), PRIMARY KEY(uid)) ;
\COPY usuarios from './Entrega2/datos/Usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE mail_usuarios(muid INT, mail VARCHAR(255), PRIMARY KEY(muid)) ;
\COPY mail_usuarios from './Entrega2/datos/Mail_Usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\COPY mail_usuarios from './Entrega2/datos/Mail_Usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\COPY mail_usuaruios from './Entrega2/datos/Mail_usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\COPY mail_usuarios from './Entrega2/datos/Mail_usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE tiene_datos(duid INT, uid INT, PRIMARY KEY(duid), FOREIGN KEY(uid) REFERENCES usuarios(uid)) ;
\COPY tiene_datos from './Entrega2/datos/Tiene_datos.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE datos_usuarios(duid INT, nombre VARCHAR(255), direccionusuario VARCHAR(255), PRIMARY KEY(duid)) ;
\COPY datos_usuarios from './Entrega2/datos/Datos_usuarios.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE tiene_mail(muid INT, uid INT, PRIMARY KEY(muid), FOREIGN KEY(uid) REFERENCES usuarios(uid)) ;
\COPY tiene_mail from './Entrega2/datos/Tiene_mail.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE paises(pid INT, nombre VARCHAR(255), PRIMARY KEY(pid)) ;
\COPY paises from './Entrega2/datos/Paises.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
CREATE TABLE pertenece_a(cid INT, pid INT, PRIMARY KEY(cid), FOREIGN KEY(pid) REFERENCES paises(pid)) :CREATE TABLE pertenece_a(cid INT, pid INT, PRIMARY KEY(cid), FOREIGN KEY(pid) REFERENCES paises(pid)) ;
CREATE TABLE pertenece_a(cid INT, pid INT, PRIMARY KEY(cid), FOREIGN KEY(pid) REFERENCES paises(pid)) ;
\COPY pertenece_a from './Entrega2/datos/Pertenece_a.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
SELECT * FROM pertenece_a ;
CREATE TABLE contactos_paises(cpid INT, contacto VARCHAR(255), PRIMARY KEY(cpid))CREATE TABLE contactos_paises(cpid INT, contacto VARCHAR(255), PRIMARY KEY(cpid)) ;
CREATE TABLE contactos_paises(cpid INT, contacto VARCHAR(255), PRIMARY KEY(cpid)) ;
\COPY contactos_paises from './Entrega2/datos/Contactos_paises.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\dt
\q
\dt
CREATE TABLE tiene_contacto(pid INT, cpid INT, PRIMARY KEY cpid, FOREIGN KEY pid REFERENCES paises(pid)
\dt
\q
CREATE TABLE tiene_contacto(pid INT, cpid INT, PRIMARY KEY cpid, FOREIGN KEY pid REFERENCES paises(pid)) ;
CREATE TABLE tiene_contacto(pid INT, cpid INT, PRIMARY KEY(cpid), FOREIGN KEY(pid) REFERENCES paises(pid)) ;
÷dt
\dt
SELECT * FROM tiene_contacto ;
SELECT * FROM tiene_contacto ;
\COPY tiene_contacto from './Entrega2/datos/tiene_contacto.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\COPY tiene_contacto from './Entrega2/datos/Tiene_contacto.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
\q
\dt
CREATE TABLE viajes(vid INT, horasalida TIME, duracion INT, transporte VARCHAR(255), capacidad INT, precio INT, PRIMARY KEY(vid)) ;
\COPY viajes from ‘./Entrega2/datos/Viajes.csv’ DELIMITER ‘,’ CSV HEADER ENCODING ‘latin1’ 
\COPY viajes from ‘./Entrega2/datos/Viajes.csv’ DELIMITER ‘,’ CSV HEADER ENCODING ‘latin1’ 
\q
\COPY viajes from ‘./Entrega2/datos/Viajes.csv’ DELIMITER ‘,’ CSV HEADER ENCODING ‘latin1’ 
\dt
\COPY viajes from './Entrega2/datos/Viajes.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1'
CREATE TABLE origen(vid INT, cid INT, PRIMARY KEY(vid), FOREIGN KEY(cid) REFERENCES ciudades(cid)) ;
\COPY origen from './Entrega2/datos/Origen.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE destino(vid INT, cid INT, PRIMARY KEY(vid), FOREIGN KEY(cid) REFERENCES ciudades(cid)) ;
\COPY destino from './Entrega2/datos/Destino.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE origen(tid INT, asiento INT, fechaviaje DATE, PRIMARY KEY(tid)) ;
CREATE TABLE tickets(tid INT, asiento INT, fechaviaje DATE, PRIMARY KEY(tid)) ;
\COPY tickets from './Entrega2/datos/Tickets.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE para(tid INT, vid INT, PRIMARY KEY(tid), FOREIGN KEY(vid) REFERENCES viajes(vid)) ;
\COPY para from './Entrega2/datos/Para.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE hoteles(hid INT, nombre VARCHAR(255), direccionhotel VARCHAR(255), telefono VARCHAR(255), precionoche INT,  PRIMARY KEY(hid)) ;
\COPY hoteles from './Entrega2/datos/Hoteles.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE esta_en(hid INT, cid INT, PRIMARY KEY(hid), FOREIGN KEY(cid) REFERENCES ciudades(cid)) ;
\COPY esta_en from './Entrega2/datos/Esta_en.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE reservas(rid INT, checkin DATE, chekout DATE, PRIMARY KEY(rid));
\COPY reservas from './Entrega2/datos/Reservas.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE hace(uid INT, rid INT, PRIMARY KEY(rid), FOREIGN KEY(uid) REFERENCES usuarios(uid)) ;
\COPY hace from './Entrega2/datos/Hace.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE en_hotel(rid INT, hid INT, PRIMARY KEY(rid), FOREIGN KEY(hid) REFERENCES hoteles(hid)) ;
\COPY en_hotel from './Entrega2/datos/En_hotel.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
\DT
\dt
SELECT * from en_hotel ;
\q
\dt
\q
\dt
\COPY esta_en from './Entrega2/datos/Esta_en.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
CREATE TABLE compra_ticket(tid INT, uid INT, fechacompra DATE, PRIMARY KEY(tid), FOREIGN KEY(uid) REFERENCES usuarios(uid)) ;
\COPY compra_ticket from './Entrega2/datos/Compra_ticket.csv' DELIMITER ',' CSV HEADER ENCODING 'latin1' 
\dt
\q
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT uid, tid FROM usuarios, compra, tickets WHERE usuarios.uid = compra.uid AND compra.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = $uid GROUP BY izquierda.uid;
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT uid, tid FROM usuarios, compra, tickets WHERE usuarios.uid = compra.uid AND compra.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 1 GROUP BY izquierda.uid;
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT uid, tid FROM usuarios, compra, tickets WHERE usuarios.uid = compra_ticket.uid AND compra.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 1 GROUP BY izquierda.uid;
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT uid, tid FROM usuarios, compra_ticket, tickets WHERE usuarios.uid = compra_ticket.uid AND compra_ticket.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 1 GROUP BY izquierda.uid;
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT usuarios.uid, tickets.tid FROM usuarios, compra_ticket, tickets WHERE usuarios.uid = compra_ticket.uid AND compra_ticket.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 1 GROUP BY izquierda.uid;
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT usuarios.uid, tickets.tid FROM usuarios, compra_ticket, tickets WHERE usuarios.uid = compra_ticket.uid AND compra_ticket.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 2 GROUP BY izquierda.uid;
SELECT arriba.uid,arriba.nombre,arriba.checkin,arriba.checkout, abajo.nombre FROM (SELECT hoteles.nombre, reservas.rid FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) AS abajo, (SELECT usuarios.uid, datos_usuarios.nombre, reservas.checkin, reservas.checkout, reservas.rid FROM datos_usuarios, tiene_datos, usuarios, hace, reservas WHERE datos_usuarios.duid = tiene_datos.duid AND tiene_datos.uid = usuarios.uid AND hace.uid = usuarios.uid AND hace.rid = reservas.rid AND reservas.checkin >= ‘2020-01-01’ AND reservas.checkout <= ‘2020-03-31’) AS arriba WHERE arriba.rid = abajo.rid;
SELECT arriba.uid,arriba.nombre,arriba.checkin,arriba.checkout, abajo.nombre FROM (SELECT hoteles.nombre, reservas.rid FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) AS abajo, (SELECT usuarios.uid, datos_usuarios.nombre, reservas.checkin, reservas.checkout, reservas.rid FROM datos_usuarios, tiene_datos, usuarios, hace, reservas WHERE datos_usuarios.duid = tiene_datos.duid AND tiene_datos.uid = usuarios.uid AND hace.uid = usuarios.uid AND hace.rid = reservas.rid AND reservas.checkin >= '2020-01-01' AND reservas.checkout <= '2020-03-31') AS arriba WHERE arriba.rid = abajo.rid;
select * from reservas;
SELECT arriba.uid,arriba.nombre,arriba.checkin,arriba.chekout, abajo.nombre FROM (SELECT hoteles.nombre, reservas.rid FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) AS abajo, (SELECT usuarios.uid, datos_usuarios.nombre, reservas.checkin, reservas.chekout, reservas.rid FROM datos_usuarios, tiene_datos, usuarios, hace, reservas WHERE datos_usuarios.duid = tiene_datos.duid AND tiene_datos.uid = usuarios.uid AND hace.uid = usuarios.uid AND hace.rid = reservas.rid AND reservas.checkin >= '2020-01-01' AND reservas.chekout <= '2020-03-31') AS arriba WHERE arriba.rid = abajo.rid;
\q
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT usuarios.uid, tickets.tid FROM usuarios, compra_ticket, tickets WHERE usuarios.uid = compra_ticket.uid AND compra_ticket.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = $uid GROUP BY izquierda.uid; 
SELECT izquierda.uid, SUM(derecha.precio) FROM (SELECT usuarios.uid, tickets.tid FROM usuarios, compra_ticket, tickets WHERE usuarios.uid = compra_ticket.uid AND compra_ticket.tid = tickets.tid) AS izquierda, (SELECT viajes.precio, tickets.tid FROM viajes, para, tickets WHERE viajes.vid = para.vid AND para.tid = tickets.tid) AS derecha WHERE izquierda.tid = derecha.tid AND izquierda.uid = 2 GROUP BY izquierda.uid; 
\q
SELECT DISTINCT * FROM(SELECT paises.nombre, hoteles.hid FROM hoteles, esta_en, ciudades, pertenece_a, paises WHERE hoteles.hid = esta_en.hid AND esta_en.cid = ciudades.cid AND ciudades.cid = pertenece_a.cid AND paises.pid = pertenece_a.pid) AS abajo, (SELECT usuarios.username, en_hotel.hid FROM usuarios, hace, reservas, en_hotel, hoteles WHERE usuarios.uid = hace.uid AND reservas.rid = hace.rid AND checkin <= CURRENT_DATE AND reservas.rid = en_hotel.rid AND en_hotel.hid = hoteles.hid) AS arriba WHERE arriba.hid = abajo.hid AND LOWER(arriba.username) LIKE LOWER('BrianDuke');
SELECT DISTINCT abajo.nombre FROM(SELECT paises.nombre, hoteles.hid FROM hoteles, esta_en, ciudades, pertenece_a, paises WHERE hoteles.hid = esta_en.hid AND esta_en.cid = ciudades.cid AND ciudades.cid = pertenece_a.cid AND paises.pid = pertenece_a.pid) AS abajo, (SELECT usuarios.username, en_hotel.hid FROM usuarios, hace, reservas, en_hotel, hoteles WHERE usuarios.uid = hace.uid AND reservas.rid = hace.rid AND checkin <= CURRENT_DATE AND reservas.rid = en_hotel.rid AND en_hotel.hid = hoteles.hid) AS arriba WHERE arriba.hid = abajo.hid AND LOWER(arriba.username) LIKE LOWER('BrianDuke');
\q
\dt
\q
\c grupo77e3
\dt
exitexit
\exit
exit
\q
\c grupo77e3
\dt
\dt
select * from usuarios;
DROP TABLE usuarios;
ALTER TABLE usuarios ADD COLUMN password char(255) SET DEFAULT abcd;
ALTER TABLE usuarios ADD COLUMN password char(255);
select * from usuarios;
ALTER TABLE usuarios ALTER COLUMN password SET DEFAULT abcd;
ALTER TABLE table_name
\q
ALTER TABLE usuarios ALTER COLUMN password SET DEFAULT 'abcd';
select * from usuarios;
ALTER TABLE usuarios ADD DEFAULT('abcd') FOR password;
ALTER TABLE usuarios ADD DEFAULT 'abcd' FOR password;
execute [dbo].[sp_helpconstraint] 'usuarios';
select * from usuarios;
ALTER TABLE usuarios DROP CONSTRAINT 'abcd';
INSERT INTO usuarios(password) values (default);
select * usuarios;
select * from usuarios;
UPDATE usuarios SET password='abcd';
select * from usuarios;
select * from usuarios;
ALTER TABLE usuarios DROP COLUMN password;
select * from usuarios;
ALTER TABLE usuarios ADD COLUMN password char(255);
select * from usuarios;
UPDATE usuarios SET password='abcd';
select * from usuarios;
\q
SELECT username, password FROM usuarios WHERE username = 'JasonKemp' ;
\q
SELECT username, password FROM usuarios WHERE username = JasonKemp ;
SELECT username, password FROM usuarios WHERE username = 'JasonKemp' ;
\q
select nombre from usuarios where uid = 50;
select username from usuarios where uid = 50;
select direccionusuario from datos_usuarios where duid = 50;
select uid from tiene_datos where uid = 50;
select * from tiene_datos;
select duid from tiene_datos where uid = 1;
select * from tiene_datos where duid = 37;
\q
select uid from tiene_datos;
select distinct uid from tiene_datos;
select distinct duid from tiene_datos;
select * from tiene_mail;
select distinct muid from tiene_mail;
select distinct uid from tiene_mail;
\dt
\d usuario
\d usuarios
\d datos_usuarios
create table borrador(uid int, nombre varchar(255), password text PRIMARY KEY (uid));
create table borrador(uid int, nombre varchar(255), password text PRIMARY KEY(uid));
create table borrador(uid int, nombre varchar(255), password text, PRIMARY KEY(uid));
\dy
\dt
\q
select * from borrador;
git pull
\q
\q
select * from borrador;
select * from borrador;
\q
select * from borrador;
\q
select * from borrador;
insert into borrador(uid,username,password) VALUES ( 10000, tomas1o , tscs100);
insert into borrador(uid, username, password) VALUES ( 10000, tomas1o , tscs100);
insert into borrador('uid', 'username','password') VALUES ( 10000, tomas1o , tscs100);
\d borrador
select * from borrador;
git pull
\q
select * from borrador;
select * from borrador;
\q
select * from borrador;
delete from borrador;
select * from borrador;
\q
\d usuarios
\d datos_usuarios
select * from datos_usuarios;
\d mail_usuarios
\d tiene_datos
\d tiene_mail
select * from usuarios where username = 'snarriagada' ;
\q
update borrador set password = '0000' where uid = 51;
select * from borrador;
updta borrador set password = '1111' where nombre = 'ticastro';
\q
select * from usuarios where uid = 51;
\q
\d reservas
select * from reservas;
select * from reservas;
alter table reservas alter column checkin timestamp ;
alter table reservas alter column checkin TIMESTAMP ;
alter table reservas alter column checkin type TIMESTAMP ;
\d reservas;
select * from reservas;
alter table reservas alter column chekout type TIMESTAMP ;
select * from reservas;
\d compra
\dt
\d compra_ticket;
select * from compra_ticket;
alter table compra_ticket alter column fechacompra type TIMESTAMP ;
select * from compra_ticket;
\d viajes
select * from viajes ;
\q
\dt
\d hace;
\d reservas ;
\d hoteles ;
SELECT DISTINCT foo.nombre, fee.checkin, fee.chekout, foo.direccion FROM (SELECT reservas.rid, reservas.checkin, reservas.chekout FROM usuarios, hace, reservas WHERE usuarios.uid = 2 AND usuarios.uid = hace.uid AND hace.rid = reservas.rid) as fee, (SELECT reservas.rid, hoteles.direccion, hoteles.nombre FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) as foo WHERE fee.rid = foo.rid  ;
\d hoteles
SELECT DISTINCT foo.nombre, fee.checkin, fee.chekout, foo.direccionhotel FROM (SELECT reservas.rid, reservas.checkin, reservas.chekout FROM usuarios, hace, reservas WHERE usuarios.uid = 2 AND usuarios.uid = hace.uid AND hace.rid = reservas.rid) as fee, (SELECT reservas.rid, hoteles.direccionhotel, hoteles.nombre FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) as foo WHERE fee.rid = foo.rid  ;
SELECT DISTINCT foo.nombre, fee.checkin, fee.chekout, foo.direccionhotel FROM (SELECT reservas.rid, reservas.checkin, reservas.chekout FROM usuarios, hace, reservas WHERE usuarios.uid = 51 AND usuarios.uid = hace.uid AND hace.rid = reservas.rid) as fee, (SELECT reservas.rid, hoteles.direccionhotel, hoteles.nombre FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) as foo WHERE fee.rid = foo.rid  ;
SELECT DISTINCT foo.nombre, fee.checkin, fee.chekout, foo.direccionhotel FROM (SELECT reservas.rid, reservas.checkin, reservas.chekout FROM usuarios, hace, reservas WHERE usuarios.uid = 33 AND usuarios.uid = hace.uid AND hace.rid = reservas.rid) as fee, (SELECT reservas.rid, hoteles.direccionhotel, hoteles.nombre FROM hoteles, en_hotel, reservas WHERE hoteles.hid = en_hotel.hid AND en_hotel.rid = reservas.rid) as foo WHERE fee.rid = foo.rid  ;
\q
SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM  (SELECT tickets.asiento, tickets.fechaviaje, para.vid  FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32  AND para.tid =  tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid  AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid;
\q
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AShola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AShola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_tickets.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AShola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_tickets.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) Ahola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_tickets.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) Ahola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_tickets.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) Ahola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AS hola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
git pull
\q
SELECT DISTINCT final.asiento, final.fechacompra, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, fee.fechacompra, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid, compra_ticket.fechacompra FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AS hola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
\d compra_ticket
SELECT DISTINCT final.asiento, final.fechacompra, final.fechaviaje, final.horasalida, final.origen, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.asiento, hola.fechacompra, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.asiento, fee.fechaviaje, fee.fechacompra, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT tickets.asiento, tickets.fechaviaje, para.vid, compra_ticket.fechacompra FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AS hola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid;
\q
CREATE TABLE entradas_museos((ui int, id_lugar int, fecha_compra_museo timestamp); ;
\dt
\q
\dt
CREATE TABLE entradas_museos(uid int, id_lugar int, fecha_compra_museo timestamp) PRIMARY KEY (uid)  ; ;
CREATE TABLE entradas_museos(uid int, id_lugar int, fecha_compra_museo timestamp) PRIMARY KEY (uid)  ; 
CREATE TABLE entradas_museos(uid int, id_lugar int, fecha_compra_museo timestamp PRIMARY KEY uid)  ; 
CREATE TABLE entradas_museos(uid int, id_lugar int, fecha_compra_museo timestamp, PRIMARY KEY uid)  ; 
CREATE TABLE entradas_museos(uid int, id_lugar int, fecha_compra_museo timestamp, PRIMARY KEY(uid))  ; 
\d entradas_museos
\q
select * from entradas_museos;
insert into entradas_museos(uid, id_lugar, fecha_compra_museo) VALUES (1000, 10000, 1982-23-04 00:00:00);
insert into entradas_museos(uid, id_lugar, fecha_compra_museo) VALUES (1000, 10000,' 1982-23-04 00:00:00');
insert into entradas_museos(uid, id_lugar, fecha_compra_museo) VALUES (1000, 10000,'1982-23-04 00:00:00');
\q
select * from entradas_museos ;
current_timestamp;
insert into entradas_museos(uid, id_lugar, fecha_compra_museo) VALUES ( 100, 1000, current_timestamp);
select * from entradas_museos;
delete from entradas_museos;
\q
select * from entradas_museos; 
\q
select * from entradas_museos;
\q
select * from entradas_museos;
\q
select * from entradas_museos; 
select museos.id_lugar, museos.hr_apertura, museos.hr_cierre , lugar.nombre FROM museos, lugar WHERE museos.id_lugar = lugar.id_lugar;
select museos.id_lugar, museos.hr_apertura, museos.hr_cierre , lugar.nombre FROM museo, lugar WHERE museos.id_lugar = lugar.id_lugar;
\q
\dt
\d tickets
select * from tickets;
\dt
select * from tickets;
select * from viajes;
select * from tickets;
SELECT origen.cid as origen, destino.cid as destino FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid;
SELECT DISTINCT origen.cid as origen, destino.cid as destino FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid;
select * from ciudades;
SELECT ultimo.destino, ciudades.nombre as origen from (SELECT foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo), ciudades where ciudades.cid = ultimo.ocid;
SELECT ultimo.destino, ciudades.nombre as origen from (SELECT foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid;
SELECT ultimo.destino, foo.vid, ciudades.nombre as origen from (SELECT  foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid  ;
SELECT ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid;
SELECT ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid ;
SELECT DISTINCT ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid ;
SELECT ultimo.destino, ciudades.nombre as origen from (SELECT foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid;
SELECT DISTINCT ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND origen = 'Florencia' ;
SELECT DISTINCT ultimo.vid, ultimo.destino, ciudades.nombre as origen1 from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND origen1 = 'Florencia' ;
SELECT DISTINCT ultimo.vid, ultimo.destino, ciudades.nombre from (SELECT foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = 'Florencia' ;
\d ciajes
\d viajes
SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;
SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = 'Florencia' ;
SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;qSELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;
\q
SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;SELECT DISTINCT ultimo.transporte, ultimo.horasalida, ultimo.precio, ultimo.capacidad, ultimo.duracion, ultimo.vid, ultimo.destino, ciudades.nombre as origen from (SELECT foo.transporte, foo.horasalida, foo.precio, foo.capacidad, foo.duracion,foo.vid, foo.ocid ,ciudades.nombre as destino from (SELECT DISTINCT viajes.transporte, viajes.horasalida, viajes.precio, viajes.capacidad, viajes.duracion  ,viajes.vid, origen.cid as ocid, destino.cid as dcid FROM viajes, origen, destino WHERE origen.vid = viajes.vid AND destino.vid = viajes.vid) AS foo, ciudades WHERE foo.dcid = ciudades.cid) AS ultimo, ciudades where ciudades.cid = ultimo.ocid AND ultimo.destino = 'Roma' AND ciudades.nombre = ''Florencia' ;\q
SELECT DISTINCT  tickets.asiento, tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where para.vid = 10 AND viajes.vid = 10 AND tickets.tid = para.tid;
select * from compra;
select * from compra_ticket;
\q
SELECT count(*) from (SELECT DISTINCT  tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where tickets.fechaviaje = '2021-02-02' AND para.vid = 10 AND viajes.vid = 10) AS foo group by foo.vid;
\q
SELECT DISTINCT capacidad from viajes where vid = 10;
\q
SELECT count(*) from (SELECT DISTINCT  tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where tickets.fechaviaje = '2021-02-02' AND para.vid = 10 AND viajes.vid = 10) AS foo group by foo.vid;
\q
SELECT count(*) from (SELECT DISTINCT  tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where tickets.fechaviaje = '400' AND para.vid = 10 AND viajes.vid = 10) AS foo group by foo.vid;
ELECT count(*) from (SELECT DISTINCT  tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where tickets.fechaviaje = 400 AND para.vid = 10 AND viajes.vid = 10) AS foo group by foo.vid;
SELECT count(*) from (SELECT DISTINCT  tickets.tid, viajes.capacidad, viajes.vid from tickets,viajes,para where tickets.fechaviaje = 400 AND para.vid = 10 AND viajes.vid = 10) AS foo group by foo.vid;
SELECT DISTINCT final.asiento, final.fechaviaje, final.horasalida, final.origen, final.fechacompra, ciudades.nombre as destino FROM ciudades, (SELECT DISTINCT hola.fechacompra, hola.asiento, hola.fechaviaje, hola.horasalida, hola.dcid, ciudades.nombre as origen FROM ciudades, (SELECT DISTINCT fee.fechacompra, fee.asiento, fee.fechaviaje, foo.horasalida, foo.ocid, foo.dcid FROM (SELECT compra_ticket.fechacompra, tickets.asiento, tickets.fechaviaje, para.vid FROM compra_ticket, tickets, para WHERE compra_ticket.tid = tickets.tid AND compra_ticket.uid = 32 AND para.tid = tickets.tid) as fee, (SELECT para.vid, viajes.horasalida, origen.cid as ocid, destino.cid as dcid FROM para, viajes, origen, destino WHERE para.vid = viajes.vid AND origen.vid = viajes.vid AND destino.vid = viajes.vid) as foo WHERE fee.vid = foo.vid) AS hola WHERE hola.ocid = ciudades.cid) AS final where final.dcid = ciudades.cid ;
\q
SELECT * from tickets, para where para.vid = 17; 
SELECT * from tickets, para where para.vid = 17 AND para.tid = tickets.tid; 
SELECT * from compra where tid = 201;
select * from compra_ticket where tid = 201;
\d compra_ticket
select * from compra_ticket;
insert into compra_ticket(tid,uid,fechacompra) values ( 201, 40, current_timestamp);
\q
\dt
\d hoteles
\dt
CREATE TABLE favoritos(uid int PRIMARY KEY, id_artista int);
select * from favoritos;
\d favoritos
drop table favoritos;
CREATE TABLE favoritos(uid int PRIMARY KEY, nombre_artista varchar(255));
\d favoritos
drop table favoritos;
CREATE TABLE favoritos(fid int PRIMARY KEY, uid int, nombre_artista varchar(255));
INSERT INTO favoritos VALUES (1, 0, 'x');
select * from favoritos;
select * from favoritos,select * from favoritos
\q
select * from favoritos;
\q
select count(*) from usuarios;
select * from usuarios;
select count(*) from usuarios order by uid;
select count(*) from usuarios gropu by uid;
select count(*) from usuarios group by uid;
select uid, count(*) from usuarios group by uid;
qselect uid, count(uid) from usuarios gropu by uid;
select uid, count(uid) from usuarios gropu by uid;
select uid, count(uid) from usuarios group by uid;
select uid, count(uid) from usuarios group by uid;
;
select count(*) from (select * from usuarios where uid = 10);
select count(*) from (select * from usuarios where uid = 10) as foo;
select count(foo.uid) from (select * from usuarios where uid = 10) as foo;
select max(foo.contador) from (select count(*) as contador from (select * from usuarios where uid = 10) as foo;);
select max(foo.contador) from (select count(*) as contador from (select * from usuarios where uid = 10)) as foo;);
select max(foo.contador) from (select count(*) as contador from (select * from usuarios where uid = 10)) as foo;
select max(foo.contador) from (select count(*) as contador from (select * from usuarios where uid = 10)) as foo;
select max(fee.contador) from (select count(*) as contador from (select * from usuarios where uid = 10) as foo) as fee;
select max(fee.contador) from (select count(*) as contador from (select * from usuarios where uid = 10) as foo) as fee where fee.contador = max(foo.contador);
select fee.contador from (select count(*) as contador from (select * from usuarios where uid = 10) as foo) as fee where fee.contador = max(foo.contador);
select fee.contador from (select count(*) as contador from (select * from usuarios where uid = 10) as foo) as fee where fee.contador = max(fee.contador);
select avg(uid) from usuarios;
